
<nav  *ngIf="!showViewNav" class="navbar navbar-expand-lg navbar-light" style="background-color: #0039A6;color:white">
  <a class="navbar-brand"  style="color:white"> 
    <img style="height: 35px;width: 190px;margin-bottom: 0.5%" src="assets/DigitalMinister1.png"></a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNavDropdown">
    <ul class="navbar-nav">
        <li class="nav-item ">
            <a class="nav-link active" style="color:white" (click)="home()"><strong class="colorchange">Home</strong></a>
          </li>
      <li class="nav-item ">
        <a class="nav-link active" style="color:white" (click)="newsEdit()"><strong class="colorchange">News</strong></a>
      </li>
      <li class="nav-item ">
        <a class="nav-link active" style="color:white" (click)="councillorEdit()"><strong class="colorchange">Councillor</strong></a>
      </li>

    </ul>
    <button  class="testclass strong mobileViewButtom" style="background-color: #d9534f;"  (click)="logout()"><strong>LOGOUT</strong></button>
    
  </div>
  <button  class="testclass strong largeViewButtom" style="background-color: #d9534f;"  (click)="logout()"><strong>LOGOUT</strong></button>
</nav>
<br>


<div *ngIf="showViewNav" class="card container justify-content-center" style="width:50%;">
<div class="position" style="background-color: #0039A6;color:white;font-family:Arial;font-size:20px; "><strong>Admin Login</strong></div>
  <form >
    <br>
    <div class="form-group">
      <label for="exampleInputEmail1"><b>Username</b></label>
      <input  #userName type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter Username">
    </div>
    <div class="form-group">
      <label for="exampleInputPassword1"><b>Password</b></label>
      <input #password type="password" class="form-control" id="exampleInputPassword1" placeholder="Enter Password">
    </div>
    <div *ngIf="show" style="color:red;">{{message}}</div>
    <div class="text-right">
    <button type="submit" class="btn testclass ml-8" (click)="callFunction(userName.value,password.value)"><b>LOGIN</b></button>
  </div>
  </form>
  <br>
</div>




<div class="container-fluid">
 <div class="row" *ngIf="!showViewform">
  <div  class=" offset-lg-1 col-lg-4 offset-md-1 col-md-4 col-sm-8 offset-sm-2 col-xs-8 offset-xs-2">
    <form class="card card-size spacing" [formGroup]="newsForm" (ngSubmit)="onSubmit()">
      <div class=card-header style="background-color: #0039A6;color:white">
        <h4 class="position">CAMPAIGN NEWS</h4>
      </div>
      <div class="md-form p-1">
        <label for="form1">
          <b>Title</b>
        </label>
        <input type="text" class="form-control" id="form1" formControlName="title">

      </div>
      <div class="md-form p-1">
        <label for="form1">
          <b>Description</b>
        </label>
        <textarea id="form1" class="md-textarea form-control" formControlName="description" rows="1"></textarea>

      </div>
      <div class="md-form p-1">
        <label for="form1">
          <b>URL</b>
        </label>
        <textarea id="form1" class="md-textarea form-control" formControlName="url" rows="1"></textarea>

      </div>
      <div class="md-form p-1">
        <label>
          <b>Type</b>
        </label>
        <br>
      </div>

      <div class="row">
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <div class="custom-control custom-radio">
          <input type="radio" class="custom-control-input" id="defaultChecked" value="Image" formControlName="type" checked>
          <label class="custom-control-label" for="defaultChecked">Image</label>
        </div>
        &nbsp;&nbsp;&nbsp;
        <div class="custom-control custom-radio">
          <input type="radio" class="custom-control-input" id="defaultUnchecked" value="Video" formControlName="type">
          <label class="custom-control-label" for="defaultUnchecked">Video</label>
        </div>
      </div>
      <div class="md-form p-1">
        <label for="form1">
          <b>Constituency</b>
        </label>
        <select formControlName="constituency" class="form-control">
          <option [value]="constituency" *ngFor="let constituency of constituencies">{{constituency}}</option>
        </select>
      </div>


      <br>
      <div class="text-right">
      <button type="submit" class="testclass pull-right">
        <strong>SUBMIT</strong>
      </button>
    </div>
      <br>
      <div *ngIf="invalidForm" style="color:red;">
          All Details are Required
        </div>
    </form>
    
  </div>

  <div class="col-sm-12 mobile-view"><br><br></div>

 <div class="offset-lg-1 col-lg-4 offset-md-1 col-md-4 col-sm-8 offset-sm-2 col-xs-8 offset-xs-2">


    <form [formGroup]="councilorForm" class="card card-size spacing" (ngSubmit)="onForm2Submit()">

      <div class=card-header style="background-color: #0039A6;color:white">
        <h4 class="position">COUNCILLOR DETAILS</h4>
      </div>

      <div class="md-form p-1">
        <label for="form">
          <b>Councillor Name</b>
        </label>
        <input type="text" id="form" formControlName="name" class="form-control">
      </div>

      <div class="md-form p-1">
        <label for="form">
          <b>URL</b>
        </label>
        <textarea id="form1" class="md-textarea form-control" formControlName="url" rows="1"></textarea>
      </div>


      <div class="md-form p-1"> 
        <label for="form">
          <b>Consitutency</b>
        </label>
        <select formControlName="constituency" class="form-control">
          <option [value]="constituency" *ngFor="let constituency of constituencies">{{constituency}}</option>
        </select>

      </div>

      <div class="md-form p-1">
        <label for="form">
          <b>Party</b>
        </label>
        <select class="form-control"  id="sel1" formControlName="party">
          <option>Party 1</option>
          <option>Party 2</option>
        </select>
      </div>

      <br>
      <div class="text-right">
      <button type="submit" class="testclass ml-8"><strong>SUBMIT</strong></button>
    </div>
      <br>
      <div *ngIf="invalidForm2" style="color:red;">
          All Details are Required
        </div>
    </form>
  
  </div> 
  <div class="col-sm-12 mobile-view"><br><br></div>
</div>  

<div *ngIf="editNews" class="md-form p-1 containercontituency" style="width: 70%;margin:0 auto;">
    
    <b>CONSTITUENCY</b>&nbsp;
    <div class="input-group">
  <select class="form-control"   [(ngModel)]="selectedConstituency">
    <option [value]="constituency" *ngFor="let constituency of constituencies">{{constituency}}</option>
    
  </select>
  <div class="input-group-append">
      &nbsp;&nbsp;
      <button type="submit" class="testclass" (click)="newsTable()"><strong>SUBMIT</strong></button>
</div>
</div>

</div>

    
<div *ngIf="editCouncilor" class="md-form p-1 containercontituency" style="width: 70%;margin:0 auto;">
    
    <b>CONSTITUENCY</b>&nbsp;
    <div class="input-group">
  <select class="form-control"  [(ngModel)]="selectedCouncilorConstituency">
    <option [value]="constituency" *ngFor="let constituency of constituencies">{{constituency}}</option>
    
  </select>
  <div class="input-group-append">
      &nbsp;&nbsp;
      <button type="submit" class="testclass" (click)="councillorRetrive()"><strong>SUBMIT</strong></button>
</div>
</div>

</div>
<br>

      <div *ngIf="showContituencyTable" style="text-align: center;" class="row justify-content-center">

      <div class="card-deck mx-2 my-2" style="width: 18rem;"  *ngFor="let nlist of newsList;index as i">
          <div class="card">
              <div class="card-header" style="height: 18vh; background-color: #0039A6; color:white;"><b>{{nlist.title}}</b></div>
            <div class="card-body">
              <p class="card-text" id="style-4" style="overflow-y: scroll; height: 30vh; scroll-behavior: smooth;">{{nlist.description}}</p>
            </div>
            <div style="background-color: #0039A6; color:white;">{{nlist.type}}</div>
            <div class="card-footer">
              <small class="text-muted"><button type="submit" class="testclass" style="float: left;" (click)="retriveNews(nlist.id)"data-toggle="modal" data-target="#exampleModal"><strong>UPDATE</strong></button>
                <button type="submit" class="testclass" style="float: right;"(click)="deleteNews(nlist)"><strong>DELETE</strong></button></small>
            </div>
          </div>
        </div>
        </div>


  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header" style="background-color: #0039A6;color:white">
            <h5 class="modal-title" id="exampleModalLabel">UPDATE NEWS</h5>
            <button type="button" style="color:white;" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">


              <table class="table table-borderless">
                  <thead>
                          <tr scope="row">
                                  <th>
                                      Title:
                                  </th>
                                  <th>
                                      <input class="form-control" type = "text" name = "title"  [(ngModel)]="newsedit.title">
                                  </th>
                          </tr>
                          <tr scope="row">
                                  <th>
                                      Description:
                                  </th>
                                  <th>
                                      <input class="form-control"  type = "text" name = "description"  [(ngModel)]="newsedit.description">
                                  </th>
                          </tr>
                          <tr scope="row">
                              <th>
                                  Type:
                              </th>
                              <th>
                                  <input class="form-control"  type = "text" name = "description"  [(ngModel)]="newsedit.type" disabled>
                              </th>
                      </tr>
                          <tr scope="row">
                              <th>
                                  URL:
                              </th>
                              <th>
                                  <input  class="form-control" type = "text" name = "url"  [(ngModel)]="newsedit.url">
                              </th>
                      </tr>

                  </thead>
          </table>
          </div>
          <div *ngIf="showUpdateMessage" style="color:#00B140; margin-right: 70%;">{{updateMessage}}</div>
          <div class="modal-footer">
              
            <button type="button" class="btn testclass" (click)="UpdateNews(newsedit)"><strong>SAVE</strong></button>
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="cardView" class="row justify-content-center">
    <div class="card mx-3 my-3"  *ngFor="let councillor of councillorList" style="width: 18rem;">
        <img class="card-img-top" style="height: 30vh;" src={{councillor.url}} alt="Card image cap">

        <ul class="list-group list-group-flush">
          <li class="list-group-item card-text">
            
                      <div class="text-center"><b>Name</b></div> 
                     <div class="text-center">{{councillor.name}}</div>
          
            </li>
          <li class="list-group-item">

                
              <div class="text-center"><b>{{councillor.councilorIdentity.party}}</b></div>
     
        </li>
        </ul>
        <div class="text-right mt-2 mb-2 mr-2"> <button type="button" class="btn btn-primary testclass" (click)="retriveCouncilor(councillor)" data-toggle="modal" data-target="#exampleModalcard"><strong>UPDATE</strong></button></div>          

      </div>
    </div>
<div class="modal fade" id="exampleModalcard" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header" style="background-color: #0039A6;color:white">
            <h5 class="modal-title" id="exampleModalLabel">UPDATE COUNCILLOR</h5>
            <button type="button" style="color:white;" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">


              <table class="table table-borderless">
                  <thead>
                          <tr scope="row">
                                  <th>
                                      Name:
                                  </th>
                                  <th>
                                      <input class="form-control" type = "text" name = "name"  [(ngModel)]="councilorEdit.name">
                                  </th>
                          </tr>
                          <tr scope="row">
                                  <th>
                                      URL:
                                  </th>
                                  <th>
                                      <input class="form-control"  type = "text" name = "url"  [(ngModel)]="councilorEdit.url">
                                  </th>
                          </tr>
                          <tr scope="row">
                              <th>
                                  Party:
                              </th>
                              <th>
                                  <input class="form-control"  type = "text" name = "party"  [(ngModel)]="councilorEdit.party" disabled>
                              </th>
                      </tr>

                  </thead>
          </table>
          </div>
          <div *ngIf="showUpdateMessage" style="color:#00B140; margin-right: 65%;">{{updateCouncillorMessage}}</div>
          <div class="modal-footer">
              
              <button type="button" class="btn testclass" (click)="updateCouncilor()"><strong>SAVE</strong></button>
            </div>
        </div>
      </div>
    </div>
    <!-- <div class="footer text-center">
      <img src="assets/academy_logo.png" style="width:250px;height:30px;float:center;margin-top: 20px;">
      <img src="assets/cde_logo.png" style="width:100px;height:50;float:center">
      </div> -->
  </div>

 